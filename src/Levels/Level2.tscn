[gd_scene load_steps=32 format=3 uid="uid://g2npjb6ck6xb"]

[ext_resource type="Script" path="res://src/Levels/Level.gd" id="1_x2m5m"]
[ext_resource type="Texture2D" uid="uid://cuowpvg2egd7l" path="res://assets/backgrounds/night_scaled.png" id="2"]
[ext_resource type="AudioStream" uid="uid://ck37un4wvsqef" path="res://src/Music/modern.tres" id="2_bxyhj"]
[ext_resource type="PackedScene" uid="uid://cy2k4kbb4j6d2" path="res://src/Objects/Seedling.tscn" id="3"]
[ext_resource type="Texture2D" uid="uid://cp6sd5oskt8iu" path="res://assets/box_small.png" id="4"]
[ext_resource type="Texture2D" uid="uid://bxek7obi1oeid" path="res://assets/boulders/boulder_small.png" id="5"]
[ext_resource type="Texture2D" uid="uid://c8scfxgnvfy8f" path="res://assets/transparent.png" id="6"]
[ext_resource type="PackedScene" uid="uid://bs0oswtfnb103" path="res://src/Objects/Portal2.tscn" id="7"]
[ext_resource type="PackedScene" uid="uid://b7y46xbylkehf" path="res://src/Levels/Level3.tscn" id="8"]
[ext_resource type="PackedScene" uid="uid://ce0ftkg06hawr" path="res://src/Actors/Berta.tscn" id="9"]
[ext_resource type="PackedScene" uid="uid://m4ljupqhk5wo" path="res://src/Objects/Scaffolding.tscn" id="10"]
[ext_resource type="PackedScene" uid="uid://k1wtkrjy574c" path="res://src/Objects/Box.tscn" id="11"]
[ext_resource type="PackedScene" uid="uid://uk7dbgvocn1n" path="res://src/Actors/Player.tscn" id="12"]
[ext_resource type="PackedScene" uid="uid://df5p7k6rwfv84" path="res://src/Objects/Seed.tscn" id="15"]
[ext_resource type="PackedScene" path="res://src/Triggers/DialogTrigger.tscn" id="16"]
[ext_resource type="PackedScene" path="res://src/Controllers/DialogController.tscn" id="17"]
[ext_resource type="Texture2D" uid="uid://l0sxlni0op6w" path="res://assets/ui/dialog_rolph_2.png" id="18"]
[ext_resource type="Texture2D" uid="uid://dva6ahjtor7xw" path="res://assets/ui/dialog_rolph_1.png" id="19"]
[ext_resource type="Texture2D" uid="uid://cr7lee4kh7it0" path="res://assets/ui/dialog_douglas_2.png" id="20"]
[ext_resource type="Texture2D" uid="uid://drxsau00vqg47" path="res://assets/ui/dialog_narrator.png" id="21"]
[ext_resource type="PackedScene" uid="uid://d3m8lx153qft6" path="res://src/UI/HUD.tscn" id="22"]
[ext_resource type="PackedScene" path="res://src/UI/GameOver.tscn" id="23"]
[ext_resource type="PackedScene" uid="uid://wvhfvabjykbe" path="res://src/Objects/Fire.tscn" id="24"]
[ext_resource type="PackedScene" uid="uid://c55cg8snv5urh" path="res://src/Objects/SawTower.tscn" id="25"]
[ext_resource type="PackedScene" uid="uid://bl51hdrbghecg" path="res://src/Objects/DarkBoulder2.tscn" id="26"]
[ext_resource type="PackedScene" uid="uid://5k451p6gr0es" path="res://src/Objects/DarkBoulder1.tscn" id="27"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_2puo6"]
texture = ExtResource("4")
texture_region_size = Vector2i(74, 80)
0:0/next_alternative_id = 8
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-37, -40, 37, -40, 37, 40, -37, 40)
0:0/1 = 1
0:0/1/flip_h = true
0:0/1/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/1/physics_layer_0/angular_velocity = 0.0
0:0/1/physics_layer_0/polygon_0/points = PackedVector2Array(37, -40, -37, -40, -37, 40, 37, 40)
0:0/2 = 2
0:0/2/flip_v = true
0:0/2/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/2/physics_layer_0/angular_velocity = 0.0
0:0/2/physics_layer_0/polygon_0/points = PackedVector2Array(-37, 40, 37, 40, 37, -40, -37, -40)
0:0/3 = 3
0:0/3/flip_h = true
0:0/3/flip_v = true
0:0/3/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/3/physics_layer_0/angular_velocity = 0.0
0:0/3/physics_layer_0/polygon_0/points = PackedVector2Array(37, 40, -37, 40, -37, -40, 37, -40)
0:0/4 = 4
0:0/4/transpose = true
0:0/4/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/4/physics_layer_0/angular_velocity = 0.0
0:0/4/physics_layer_0/polygon_0/points = PackedVector2Array(-40, -37, -40, 37, 40, 37, 40, -37)
0:0/5 = 5
0:0/5/flip_h = true
0:0/5/transpose = true
0:0/5/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/5/physics_layer_0/angular_velocity = 0.0
0:0/5/physics_layer_0/polygon_0/points = PackedVector2Array(40, -37, 40, 37, -40, 37, -40, -37)
0:0/6 = 6
0:0/6/flip_v = true
0:0/6/transpose = true
0:0/6/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/6/physics_layer_0/angular_velocity = 0.0
0:0/6/physics_layer_0/polygon_0/points = PackedVector2Array(-40, 37, -40, -37, 40, -37, 40, 37)
0:0/7 = 7
0:0/7/flip_h = true
0:0/7/flip_v = true
0:0/7/transpose = true
0:0/7/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/7/physics_layer_0/angular_velocity = 0.0
0:0/7/physics_layer_0/polygon_0/points = PackedVector2Array(40, 37, 40, -37, -40, -37, -40, 37)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vnxq0"]
texture = ExtResource("5")
texture_region_size = Vector2i(148, 80)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_7uth2"]
texture = ExtResource("6")
texture_region_size = Vector2i(74, 80)
0:0/next_alternative_id = 8
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-37, -40, 37, -40, 37, 40, -37, 40)
0:0/1 = 1
0:0/1/flip_h = true
0:0/1/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/1/physics_layer_0/angular_velocity = 0.0
0:0/1/physics_layer_0/polygon_0/points = PackedVector2Array(37, -40, -37, -40, -37, 40, 37, 40)
0:0/2 = 2
0:0/2/flip_v = true
0:0/2/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/2/physics_layer_0/angular_velocity = 0.0
0:0/2/physics_layer_0/polygon_0/points = PackedVector2Array(-37, 40, 37, 40, 37, -40, -37, -40)
0:0/3 = 3
0:0/3/flip_h = true
0:0/3/flip_v = true
0:0/3/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/3/physics_layer_0/angular_velocity = 0.0
0:0/3/physics_layer_0/polygon_0/points = PackedVector2Array(37, 40, -37, 40, -37, -40, 37, -40)
0:0/4 = 4
0:0/4/transpose = true
0:0/4/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/4/physics_layer_0/angular_velocity = 0.0
0:0/4/physics_layer_0/polygon_0/points = PackedVector2Array(-40, -37, -40, 37, 40, 37, 40, -37)
0:0/5 = 5
0:0/5/flip_h = true
0:0/5/transpose = true
0:0/5/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/5/physics_layer_0/angular_velocity = 0.0
0:0/5/physics_layer_0/polygon_0/points = PackedVector2Array(40, -37, 40, 37, -40, 37, -40, -37)
0:0/6 = 6
0:0/6/flip_v = true
0:0/6/transpose = true
0:0/6/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/6/physics_layer_0/angular_velocity = 0.0
0:0/6/physics_layer_0/polygon_0/points = PackedVector2Array(-40, 37, -40, -37, 40, -37, 40, 37)
0:0/7 = 7
0:0/7/flip_h = true
0:0/7/flip_v = true
0:0/7/transpose = true
0:0/7/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/7/physics_layer_0/angular_velocity = 0.0
0:0/7/physics_layer_0/polygon_0/points = PackedVector2Array(40, 37, 40, -37, -40, -37, -40, 37)

[sub_resource type="TileSet" id="4"]
tile_size = Vector2i(74, 80)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_2puo6")
sources/1 = SubResource("TileSetAtlasSource_vnxq0")
sources/2 = SubResource("TileSetAtlasSource_7uth2")

[sub_resource type="RectangleShape2D" id="5"]
size = Vector2(13.856, 10)

[node name="level" type="Node2D"]
position = Vector2(1634, 539)
script = ExtResource("1_x2m5m")

[node name="background_music" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("2_bxyhj")
volume_db = -18.0
autoplay = true

[node name="background" type="TextureRect" parent="."]
offset_left = -1907.0
offset_top = -998.0
offset_right = 13845.0
offset_bottom = 640.0
texture = ExtResource("2")
stretch_mode = 1

[node name="Seedling" parent="." instance=ExtResource("3")]
position = Vector2(2589, 483)
scale = Vector2(0.7, 0.7)

[node name="Seedling5" parent="." instance=ExtResource("3")]
position = Vector2(2862, 483)
scale = Vector2(0.7, 0.7)

[node name="Seedling6" parent="." instance=ExtResource("3")]
position = Vector2(8212, 483)
scale = Vector2(0.7, 0.7)

[node name="SawTower" parent="." instance=ExtResource("25")]
position = Vector2(9396, 205)
scale = Vector2(0.3, 0.3)

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("4")
format = 2
layer_0/tile_data = PackedInt32Array(-851792, 0, 0, -720918, 0, 0, -786256, 0, 0, -655382, 0, 0, -720720, 0, 0, -589846, 0, 0, -655184, 0, 0, -524310, 0, 0, -589648, 0, 0, -458774, 0, 0, -524112, 0, 0, -393238, 0, 0, -458576, 0, 0, -327702, 0, 0, -393040, 0, 0, -262166, 0, 0, -327504, 0, 0, -196630, 0, 0, -261968, 0, 0, -131094, 0, 0, -196432, 0, 0, -65558, 0, 0, -130896, 0, 0, -22, 0, 0, -65360, 0, 0, 65514, 0, 0, 176, 0, 0, 131050, 0, 0, 65712, 0, 0, 196586, 0, 0, 131248, 0, 0, 262122, 0, 0, 196784, 0, 0, 327658, 0, 0, 262320, 0, 0, 393194, 0, 0, 327856, 0, 0)

[node name="Scaffolding" parent="." instance=ExtResource("10")]
position = Vector2(3697, 238)

[node name="Scaffolding5" parent="." instance=ExtResource("10")]
position = Vector2(3987, 238)

[node name="Scaffolding6" parent="." instance=ExtResource("10")]
position = Vector2(4274, 238)

[node name="Scaffolding7" parent="." instance=ExtResource("10")]
position = Vector2(4776, 238)

[node name="Seed2" parent="." instance=ExtResource("15")]
position = Vector2(1415, 298)

[node name="Seed3" parent="." instance=ExtResource("15")]
position = Vector2(1851, 418)

[node name="Seed4" parent="." instance=ExtResource("15")]
position = Vector2(7570, 180)

[node name="UI" type="CanvasLayer" parent="."]
layer = 99

[node name="DialogController" parent="UI" instance=ExtResource("17")]
process_mode = 3
visible = false
anchors_preset = 12
rolph_neutral = ExtResource("18")
rolph_scared = ExtResource("19")
douglas_neutral = ExtResource("20")
narrator = ExtResource("21")

[node name="HUD" parent="UI" instance=ExtResource("22")]

[node name="GameOver" parent="UI" instance=ExtResource("23")]
visible = false
anchors_preset = 14

[node name="Ground" type="StaticBody2D" parent="."]
collision_layer = 8
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ground"]
modulate = Color(0, 0, 0, 1)
position = Vector2(0, 491)
scale = Vector2(2000, 2)
shape = SubResource("5")

[node name="Fire" parent="." instance=ExtResource("24")]
position = Vector2(2271, 410)

[node name="Chaser" parent="." instance=ExtResource("9")]
position = Vector2(-740, 299)
scale = Vector2(0.5, 0.5)
max_speed = Vector2(500, 0)

[node name="DarkBoulder2" parent="." instance=ExtResource("26")]
position = Vector2(1353, 430)
scale = Vector2(0.1, 0.1)

[node name="DarkBoulder3" parent="." instance=ExtResource("26")]
position = Vector2(3314, 430)
scale = Vector2(0.1, 0.1)

[node name="DarkBoulder5" parent="." instance=ExtResource("26")]
position = Vector2(5887, 314)
scale = Vector2(0.3, 0.3)

[node name="DarkBoulder" parent="." instance=ExtResource("27")]
position = Vector2(950, 452)
scale = Vector2(0.1, 0.1)

[node name="DarkBoulder4" parent="." instance=ExtResource("27")]
position = Vector2(4538, 422)
scale = Vector2(0.2, 0.2)

[node name="Fire2" parent="." instance=ExtResource("24")]
position = Vector2(4536, 215)
scale = Vector2(2, 2)

[node name="Box2" parent="." instance=ExtResource("11")]
position = Vector2(7573, 377)
scale = Vector2(3, 3)

[node name="Box3" parent="." instance=ExtResource("11")]
position = Vector2(10663, 377)
scale = Vector2(3, 3)

[node name="Box4" parent="." instance=ExtResource("11")]
position = Vector2(10882, 377)
scale = Vector2(3, 3)

[node name="TransitonDialogTrigger" parent="." instance=ExtResource("16")]
position = Vector2(11742, -194)
scale = Vector2(5, 60)
dialoge_file_path = "res://data/dialogs/02_transition.json"

[node name="Box5" parent="." instance=ExtResource("11")]
position = Vector2(10786, 153)
scale = Vector2(3, 3)

[node name="Fire3" parent="." instance=ExtResource("24")]
position = Vector2(7145, 414)

[node name="Portal" parent="." instance=ExtResource("7")]
position = Vector2(12482, 481)
next_scene = ExtResource("8")

[node name="Player" parent="." instance=ExtResource("12")]
position = Vector2(302, 301)
